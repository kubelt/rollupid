# wrangler.toml

name = "starbase"

workers_dev = true
main = "./build/index.js"
compatibility_date = "2022-04-05"

# rob@kubelt.com
account_id = "c5902365738951d1946e51768978eb46"

# Service Bindings
# -----------------------------------------------------------------------------
# TODO make service bindings work for local development using miniflare.

# services = [
#   { binding = "OORT", service = "oort-devnet" }
# ]

# Environment Variables
# -----------------------------------------------------------------------------
# Required secrets:
# - SESSION_SECRET
#
# Set these secrets using the wrangler CLI:
# $ echo <VALUE> | wrangler secret put <NAME>

[vars]

# Site
# -----------------------------------------------------------------------------

[site]
  bucket = "./public"

# Build
# -----------------------------------------------------------------------------

[build]
  command = "npm run build"

# development
# -----------------------------------------------------------------------------

[env.dev]
kv_namespaces = [
  { binding = "SESSIONS", id = "719906291cbf4079a0c30cbed684208d" },
]

[env.dev.vars]
DEPLOY_ENV = "robert"
STORAGE_NAMESPACE = "starbase"
