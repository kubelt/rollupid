import { Canvas, Meta, Story } from '@storybook/addon-docs'

import Authorization from './Authorization'

import subtractLogo from '../../assets/subtract-logo.svg'

import { HiOutlineEnvelope } from 'react-icons/hi2'

import { SCOPES_JSON } from '@proofzero/security/scopes'

import googleIcon from '@proofzero/design-system/src/atoms/providers/Google'
import microsoftIcon from '@proofzero/design-system/src/atoms/providers/Microsoft'
import appleIcon from '@proofzero/design-system/src/atoms/providers/Apple'
import { OptionType } from '@proofzero/utils/getNormalisedConnectedAccounts'

import {
  NodeType,
  OAuthAddressType,
  EmailAddressType,
  CryptoAddressType,
} from '@proofzero/types/address'

<Meta title="Templates/Authorization" component={Authorization} />


export const Template = (args) => (
  <Authorization
    userProfile={{
      pfpURL:
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA3IiBoZWlnaHQ9IjEwNyIgdmlld0JveD0iMCAwIDEwNyAxMDciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDciIGhlaWdodD0iMTA3IiByeD0iMTcuODMwOCIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzgxMDNfMjEwMTApIi8+CjxwYXRoIGQ9Ik02Ny44NjYzIDg2LjgyNDZDODAuMjMwMiA4MS4xMjgzIDg4LjgxMjUgNjguNjI3IDg4LjgxMjUgNTQuMTIxMUM4OC44MTI1IDM0LjI0NTMgNzIuNyAxOC4xMzI4IDUyLjgyNDIgMTguMTMyOEMzMi45NDg0IDE4LjEzMjggMTYuODM1OSAzNC4yNDUzIDE2LjgzNTkgNTQuMTIxMUMxNi44MzU5IDY3LjIyMDkgMjMuODM1MSA3OC42ODU5IDM0LjI5NzcgODQuOTgwN1Y1My45MDgxTDM0LjI5ODkgNTMuOTA5M0MzNC40MTI0IDQzLjc3NSA0Mi42NjMgMzUuNTk0NiA1Mi44MjQyIDM1LjU5NDZDNjMuMDU2MSAzNS41OTQ2IDcxLjM1MDcgNDMuODg5MiA3MS4zNTA3IDU0LjEyMTFDNzEuMzUwNyA2NC4zNTE4IDYzLjA1ODEgNzIuNjQ1NiA1Mi44Mjc5IDcyLjY0NzZMNjcuODY2MyA4Ni44MjQ2WiIgZmlsbD0id2hpdGUiLz4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl84MTAzXzIxMDEwIiB4MT0iNTMuNSIgeTE9IjAiIHgyPSI1My41IiB5Mj0iMTA3IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiM2MzY2RjEiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMzk0NkQwIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==',
    }}
    appProfile={{
      name: 'Passport',
      iconURL: subtractLogo,
      privacyURL: 'foo',
      termsURL: 'bar',
    }}
    requestedScope={['openid', 'profile', 'connected_accounts', 'email', 'erc_4337']}
    scopeMeta={{
      scopes: SCOPES_JSON,
    }}
    connectedEmails={[
      {
        title: 'email@gmail.com',
        value: 'urn:rollupid:address/1',
        icon: <img src={googleIcon} className="w-4 h-4 mr-3" />,
      },
      {
        title: 'email@microsoft.com',
        value: 'urn:rollupid:address/2',
        icon: <img src={microsoftIcon} className="w-4 h-4 mr-3" />,
      },
      {
        title: 'perez@apple.com',
        value: 'urn:rollupid:address/5',
        icon: <img src={appleIcon} className="w-4 h-4 mr-3" />,
      },
      {
        title: 'email@yahoo.com',
        value: 'urn:rollupid:address/3',
        icon: <HiOutlineEnvelope className="w-4 h-4 mr-3" />,
        selected: true,
      },
    ]}
    selectEmailCallback={() => {}}
    addNewEmailCallback={() => {}}
    connectedAccounts={[
      {
        value: `urn:proofzero:address:0`,
        title: `Account 0`,
        subtitle: "SC Wallet - Address 0"
      },
      {
        value: `urn:proofzero:address:1`,
        title: `Account 1`,
        subtitle: "Github - Address 1"
      },
      {
        value: `urn:proofzero:address:2`,
        title: `Account 2`,
        subtitle: "Google - Address 2"
      },
      {
        value: `urn:proofzero:address:3`,
        title: `Account 3`,
        subtitle: "Microsoft - Address 3"
      },
    ]}
    selectAccountsCallback={() => {}}
    disableAuthorization={true}
    transitionState={'idle'}
    connectedSmartContractWallets={[
      {
        value: `urn:proofzero:address:0`,
        title: `Account 0`,
        subtitle: "SC Wallet - Address 0"
      },
      {
        value: `urn:proofzero:address:1`,
        title: `Account 1`,
        subtitle: "Github - Address 1"
      },
      {
        value: `urn:proofzero:address:2`,
        title: `Account 2`,
        subtitle: "Google - Address 2"
      },
      {
        value: `urn:proofzero:address:3`,
        title: `Account 3`,
        subtitle: "Microsoft - Address 3"
      },
    ]}
    selectSmartWalletCallback={() => {}}
    addNewSmartWalletCallback={() => {}}
  >
    {' '}
  </Authorization>
)

# Authorization

  < Canvas >
  <Story name="Passport Authorization">{Template.bind({})}</Story>
</Canvas >
